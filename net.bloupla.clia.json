{
  "app-id": "net.bloupla.clia",
  "runtime": "org.gnome.Platform",
  "runtime-version": "47",
  "sdk": "org.gnome.Sdk",
  "command": "clia",
  "finish-args": [
    "--share=ipc",
    "--socket=fallback-x11",
    "--socket=wayland",
    "--device=dri",
    "--share=network",
    "--socket=session-bus",
    "--socket=system-bus",
    "--talk-name=org.freedesktop.Flatpak",
    "--filesystem=host",
    "--filesystem=xdg-run/dconf",
    "--filesystem=~/.local/share:create",
    "--env=PYTHONPATH=/app/lib/python3.12/site-packages",
    "--env=GI_TYPELIB_PATH=/app/lib/girepository-1.0",
    "--env=TERM=xterm-256color"
  ],
  "modules": [
    {
      "name": "vte",
      "buildsystem": "meson",
      "config-opts": [
        "-Dgir=true",
        "-Dvapi=false",
        "-Dgtk3=false",
        "-Dgtk4=true",
        "-Ddocs=false"
      ],
      "build-options": {
        "env": {
          "PKG_CONFIG_PATH": "/app/lib/pkgconfig:/usr/lib/pkgconfig"
        }
      },
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/vte/0.76/vte-0.76.4.tar.xz",
          "sha256": "9c52d1da6c6f7409289351fc1cba8948cd3b47d048cbfede763a0f75b77453cc"
        }
      ],
      "cleanup": [
        "/etc",
        "/lib/systemd"
      ]
    },
    {
      "name": "python-requests",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"requests\" --no-build-isolation"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/py3/r/requests/requests-2.31.0-py3-none-any.whl",
          "sha256": "58cd2187c01e70e6e26505bca751777aa9f2ee0b7f4300988b709f44e013003f"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/py3/c/certifi/certifi-2024.2.2-py3-none-any.whl",
          "sha256": "dc383c07b76109f368f6106eee2b593b04a011ea4d55f652c6ca24a754d1cdd1"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/py3/c/charset_normalizer/charset_normalizer-3.3.2-py3-none-any.whl",
          "sha256": "3e4d1f6587322d2788836a99c69062fbb091331ec940e02d12d179c1d53e25fc"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/py3/i/idna/idna-3.6-py3-none-any.whl",
          "sha256": "c05567e9c24a6b9faaa835c4821bad0590fbb9d5779e7caa6e1cc4978e7eb24f"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/py3/u/urllib3/urllib3-2.2.1-py3-none-any.whl",
          "sha256": "450b20ec296a467077128bff42b73080516e71b56ff59a60a02bef2232c4fa9d"
        }
      ]
    },
    {
      "name": "clia",
      "buildsystem": "simple",
      "build-commands": [
        "install -D clia.py /app/bin/clia",
        "install -D net.bloupla.clia.desktop /app/share/applications/net.bloupla.clia.desktop",
        "install -D net.bloupla.clia.svg /app/share/icons/hicolor/scalable/apps/net.bloupla.clia.svg",
        "install -D net.bloupla.clia.appdata.xml /app/share/metainfo/net.bloupla.clia.appdata.xml"
      ],
      "sources": [
        {
          "type": "file",
          "path": "clia.py"
        },
        {
          "type": "file",
          "path": "net.bloupla.clia.desktop"
        },
        {
          "type": "file",
          "path": "net.bloupla.clia.svg"
        },
        {
          "type": "file",
          "path": "net.bloupla.clia.appdata.xml"
        }
      ]
    }
  ]
}

